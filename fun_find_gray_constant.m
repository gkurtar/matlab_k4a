%*******************************************************************************************
%{
grayvals(1, :) = [ 508.5441, 506.2285, 506.0384, 505.7622, 506.9481, 504.3683 ]
grayvals(2, :) = [ 508.7621, 506.5236, 506.4817, 506.1594, 506.2092, 504.8002 ]
grayvals(3, :) = [ 752.8733, 753.6076, 751.1379, 753.1248, 752.5206, 751.3164 ]
grayvals(4, :) = [ 752.8125, 752.9358, 752.6592, 753.3019, 752.3953, 750.2644 ]
grayvals(5, :) = [ 1002.2, 1001.9, 1002.5, 1002.4, 1004.0, 1002.0 ]
grayvals(6, :) = [ 1003.3, 1002.3, 1002.3, 1002.5, 1003.8, 1002.2 ]
grayvals(7, :) = [ 1256.4, 1256.3, 1255.0, 1254.5, 1253.195841, 1253.265427 ]
grayvals(8, :) = [ 1255.830212 1255.211728, 1255.1, 1254.2, 1253.738052, 1253.443223 ]
grayvals(9, :) = [ 1500.475214, 1499.384354, 1500.607500, 1498.625882, 1497.208497, 1497.447619 ]
grayvals(10, :) = [ 1500.458194, 1498.552443, 1501.324324, 1498.739375, 1497.195506, 1497.197314 ]
grayvals(11, :) = [ 1741.350000, 1740.534188, 1742.642512, 1741.032895, 1741.954545, 1740.426573 ]
grayvals(12, :) = [ 1741.443781, 1738.817568, 1742.644370, 1741.997608, 1741.464715, 1740.443910 ]
grayvals(13, :) = [ 1996.112346, 1993.102535, 1992.990083, 1993.727151, 1993.976427, 1994.261905 ]
grayvals(14, :) = [ 1997.018640, 1993.430804, 1992.738281, 1994.397727, 1993.736070, 1993.894505 ]
grayvals(15, :) = [ 2244.950000, 2242.664884, 2240.232906, 2241.437135, 2242.759259, 2242.592208 ]
grayvals(16, :) = [ 2245.824877, 2242.522792, 2241.679339, 2241.780844, 2242.541667, 2242.990909 ]
grayvals(17, :) = [ 2490.567460, 2489.268085, 2487.376316, 2487.988889, 2488.893617, 2490.451852 ]
grayvals(18, :) = [ 2490.629187, 2490.222727, 2487.593939, 2487.747036, 2488.989796, 2489.836478 ]
grayvals(19, :) = [ 2742.649573, 2737.613861, 2738.200542, 2736.439276, 2736.981481, 2736.962121 ]
grayvals(20, :) = [ 2742.473684, 2738.525745, 2739.363636, 2737.760870, 2737.888372, 2737.638889 ]
grayvals(21, :) = [ 2987.292383, 2983.006098, 2983.338235, 2982.886842, 2984.112500, 2984.996516 ]
grayvals(22, :) = [ 2990.298077, 2983.696875, 2983.734375, 2982.262108, 2984.421053, 2984.819444 ]


grayvals_a(1, :) = [ 508.5441, 506.2285, 506.0384, 505.7622, 506.9481, 504.3683 ]
grayvals_a(2, :) = [ 752.8733, 753.6076, 751.1379, 753.1248, 752.5206, 751.3164 ]
grayvals_a(3, :) = [ 1002.2, 1001.9, 1002.5, 1002.4, 1004.0, 1002.0 ]
grayvals_a(4, :) = [ 1256.4, 1256.3, 1255.0, 1254.5, 1253.195841, 1253.265427 ]
grayvals_a(5, :) = [ 1500.475214, 1499.384354, 1500.607500, 1498.625882, 1497.208497, 1497.447619 ]
grayvals_a(6, :) = [ 1741.350000, 1740.534188, 1742.642512, 1741.032895, 1741.954545, 1740.426573 ]
grayvals_a(7, :) = [ 1996.112346, 1993.102535, 1992.990083, 1993.727151, 1993.976427, 1994.261905 ]
grayvals_a(8, :) = [ 2244.950000, 2242.664884, 2240.232906, 2241.437135, 2242.759259, 2242.592208 ]
grayvals_a(9, :) = [ 2490.567460, 2489.268085, 2487.376316, 2487.988889, 2488.893617, 2490.451852 ]
grayvals_a(10, :) = [ 2742.649573, 2737.613861, 2738.200542, 2736.439276, 2736.981481, 2736.962121 ]
grayvals_a(11, :) = [ 2987.292383, 2983.006098, 2983.338235, 2982.886842, 2984.112500, 2984.996516 ]

grayvals_b(1, :) = [ 508.7621, 506.5236, 506.4817, 506.1594, 506.2092, 504.8002 ]
grayvals_b(2, :) = [ 752.8125, 752.9358, 752.6592, 753.3019, 752.3953, 750.2644 ]
grayvals_b(3, :) = [ 1003.3, 1002.3, 1002.3, 1002.5, 1003.8, 1002.2 ]
grayvals_b(4, :) = [ 1255.830212 1255.211728, 1255.1, 1254.2, 1253.738052, 1253.443223 ]
grayvals_b(5, :) = [ 1500.458194, 1498.552443, 1501.324324, 1498.739375, 1497.195506, 1497.197314 ]
grayvals_b(6, :) = [ 1741.443781, 1738.817568, 1742.644370, 1741.997608, 1741.464715, 1740.443910 ]
grayvals_b(7, :) = [ 1997.018640, 1993.430804, 1992.738281, 1994.397727, 1993.736070, 1993.894505 ]
grayvals_b(8, :) = [ 2245.824877, 2242.522792, 2241.679339, 2241.780844, 2242.541667, 2242.990909 ]
grayvals_b(9, :) = [ 2490.629187, 2490.222727, 2487.593939, 2487.747036, 2488.989796, 2489.836478 ]
grayvals_b(10, :) = [ 2742.473684, 2738.525745, 2739.363636, 2737.760870, 2737.888372, 2737.638889 ]
grayvals_b(11, :) = [ 2990.298077, 2983.696875, 2983.734375, 2982.262108, 2984.421053, 2984.819444 ]

%}

%*******************************************************************************************
function [ resGrayFactors ] = fun_find_gray_constant(argGrayMeasurements)

	fprintf("\nBEGIN: fun_find_gray_constant\n");
	
	distances = [50, 75, 100, 125, 150, 175, 200, 225, 250, 275, 300];
	gray_percentages = [0, 20, 40, 60, 80, 100];
	dims = size(argGrayMeasurements);
	
	resGrayFactors = zeros(dims(1), dims(2));
	
	resSeqFactors = zeros(dims(1), dims(2));
	
	for i = 1: dims(1)
		meanVal = mean(argGrayMeasurements(i, :));
		
		for j = 1: dims(2)
			resGrayFactors(i, j) = argGrayMeasurements(i, j) / meanVal;
		end
	end
	
	surf(gray_percentages, distances, resGrayFactors);
	
	xlabel('Darkness (%Black)');
	ylabel('Distance (cm)');
	zlabel('F');
	
    fprintf("\nEND: fun_find_gray_constant\n");
	return;
end